<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JerseyGo — Live Parking, Health & Services</title>

<meta name="description" content="JerseyGo helps you find live parking spaces, GP clinics, dentists, pharmacies, parks, transport and emergency services in Jersey.">

<link rel="manifest" href="./manifest.webmanifest">
<link rel="icon" href="./icon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="./icon.svg">

<style>
:root{
  --bg:#070A12;
  --panel:#0E1626;
  --card:#121C2E;
  --accent:#35D07F;
  --accent2:#4DA3FF;
  --text:#E6ECF5;
  --muted:#9FB0C8;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Inter,sans-serif;
  background:radial-gradient(1200px 600px at 20% -10%,#132340,#070A12 60%);
  color:var(--text);
}

header{
  padding:18px;
  display:flex;
  gap:12px;
  align-items:center;
}

header img{width:40px;height:40px;border-radius:14px}

header h1{
  font-size:20px;
  margin:0;
}

header p{
  margin:2px 0 0;
  font-size:12px;
  color:var(--muted);
}

.container{padding:16px}

.search{
  display:flex;
  gap:8px;
}

.search input{
  flex:1;
  background:var(--panel);
  border:0;
  border-radius:14px;
  padding:14px;
  color:var(--text);
  font-size:15px;
}

.btn{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#05110A;
  border:0;
  padding:12px 16px;
  border-radius:14px;
  font-weight:600;
}

.btn.secondary{
  background:var(--panel);
  color:var(--text);
}

.section{
  margin-top:22px;
}

.section h2{
  font-size:13px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
  margin-bottom:10px;
}

.categories{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}

.cat{
  background:var(--panel);
  border-radius:16px;
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.list{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.card{
  background:linear-gradient(180deg,#16233A,#0E1626);
  border-radius:18px;
  padding:16px;
}

.card h3{margin:0 0 4px;font-size:16px}
.card p{margin:0;color:var(--muted);font-size:13px}

.actions{
  display:flex;
  gap:12px;
  margin-top:10px;
}

.actions a{
  color:var(--accent);
  font-size:14px;
  text-decoration:none;
}

.live{
  color:#4DFFAA;
  font-weight:700;
}

footer{
  text-align:center;
  padding:20px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<header>
  <img src="./icon.svg" alt="JerseyGo">
  <div>
    <h1>JerseyGo</h1>
    <p>Live Parking • Health • Transport • Emergency</p>
  </div>
</header>

<div class="container">

  <div class="search">
    <input id="q" placeholder="Search: parking, GP, dentist, pharmacy…">
    <button class="btn secondary" onclick="nearMe()">Near me</button>
  </div>

  <div class="section">
    <h2>Categories</h2>
    <div class="categories" id="cats"></div>
  </div>

  <div class="section">
    <h2>Results</h2>
    <div class="list" id="list"></div>
  </div>

</div>

<footer>
  Emergency: call <strong>999 / 112</strong><br>
  JerseyGo — unofficial directory using public sources
</footer>

<script>
const services = [
  {cat:"Emergency", name:"Emergency Services", desc:"Police, Fire & Ambulance", call:"999", web:"https://www.gov.je"},
  {cat:"Parking", name:"Charles Street", desc:"LIVE multi-storey car park", live:true, web:"https://www.gov.je/Travel/Motoring/Parking/pages/carparkspaces.aspx"},
  {cat:"Parking", name:"Green Street", desc:"LIVE multi-storey car park", live:true, web:"https://www.gov.je/Travel/Motoring/Parking/pages/carparkspaces.aspx"},
  {cat:"Parks", name:"Howard Davis Park", desc:"Public park & gardens"},
  {cat:"GP Clinics", name:"Lister House Surgery", desc:"General Practice", call:"01534736100"},
  {cat:"Dentists", name:"New Era Dental", desc:"Dental clinic", call:"01534723344"},
  {cat:"Pharmacies", name:"Alliance Pharmacy", desc:"Community pharmacy"},
  {cat:"Transport", name:"LibertyBus", desc:"Bus routes & timetables", web:"https://libertybus.je"}
];

const list = document.getElementById("list");
const cats = document.getElementById("cats");

function render(data){
  list.innerHTML="";
  data.forEach(s=>{
    list.innerHTML+=`
      <div class="card">
        <h3>${s.name} ${s.live?'<span class="live">LIVE</span>':''}</h3>
        <p>${s.desc}</p>
        <div class="actions">
          ${s.call?`<a href="tel:${s.call}">Call</a>`:""}
          ${s.web?`<a href="${s.web}" target="_blank">Website</a>`:""}
          <a href="https://maps.google.com/?q=${encodeURIComponent(s.name+" Jersey")}" target="_blank">Maps</a>
        </div>
      </div>`;
  });
}

function buildCats(){
  const counts={};
  services.forEach(s=>counts[s.cat]=(counts[s.cat]||0)+1);
  cats.innerHTML="";
  Object.keys(counts).forEach(c=>{
    cats.innerHTML+=`
      <div class="cat" onclick="filter('${c}')">
        <span>${c}</span><span>${counts[c]}</span>
      </div>`;
  });
}

function filter(c){
  render(services.filter(s=>s.cat===c));
}

document.getElementById("q").oninput=e=>{
  const v=e.target.value.toLowerCase();
  render(services.filter(s=>JSON.stringify(s).toLowerCase().includes(v)));
};

function nearMe(){
  alert("Near me: ready for GPS extension");
}

buildCats();
render(services);
</script>

</body>
</html>
